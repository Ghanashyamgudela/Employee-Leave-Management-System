<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>My Leaves</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: linear-gradient(45deg, #74b9ff 0%, transparent 20%), linear-gradient(165deg, #0984e3 0%, transparent 20%), linear-gradient(285deg, #00b894 0%, transparent 100%);
            background-attachment: fixed;
            text-align: center;

        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            border: 2px solid green;
        }

        th,
        td {
            border: 1px solid rgba(0, 128, 0, 0.385);
            padding: 10px;
            text-align: center;
        }

        th {
            background-color: #e358589b;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        a {
            text-decoration: none;
            color: #007BFF;
        }

        a:hover {
            text-decoration: underline;
        }

        .shine-button {
            position: relative;
            overflow: hidden;
        }

        .shine-button::before {
            content: '';
            position: absolute;
            height: 250%;
            width: 40px;
            top: 0;
            left: -60px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transform: rotate(45deg) translateY(-35%);
            animation: shine 3s ease infinite;
        }

        @keyframes shine {
            0% {
                left: -80px;
            }

            40%,
            100% {
                left: calc(100% + 20px);
            }
        }

        .button-teal {
            background: inherit;
            border: 1px solid white;
            color: #743c05;

            box-shadow: 0 10px 30px rgba(29, 233, 182, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .button-teal:hover {
            transform: translateY(-3px);
            text-decoration: none;
            color: red;
            border: 1px solid green;
            box-shadow: 0 15px 40px rgba(29, 233, 182, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
        .btn-red {
    background-color: #ff1a1a !important;
    border: 2px solid #f2dcdc !important;
    color: white !important;
}

.btn-red:hover {
    background-color: #e60000 !important;
    border-color: #990000 !important;
    color: white !important;
}


.btn-red-disabled {
    background-color: #b30000 !important;
    border: 2px solid #ef0b0b !important;
    color: white !important;
    opacity: 0.7;
    cursor: not-allowed;
}

    </style>
</head>

<body>
    <h2>My Leave Requests</h2>

    <a href="{{ url_for('student_dashboard') }}" class=" button-teal"
        style="padding: 10px 24px; border-radius: 6px; margin-bottom: 16px; display: inline-block;"> <i
            class="fa-solid fa-angles-left"></i>Back to Dashboard</a>
    <table>
        <thead>
            <tr>
                <th>Sno.</th>
                <th>Reason</th>
                <th>From Date</th>
                <th>To Date</th>
                <th>Department</th>
                <th>Status</th>
                <th>Leave Type</th>
                <th>Is Half Day</th>
                <th>Leave Days</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% if leaves %}
            {% for leave in leaves %}
            <tr>
                <td>{{ leave.id }}</td>
                <td>{{ leave.reason }}</td>
                <td>{{ leave.from_date }}</td>
                <td>{{ leave.to_date }}</td>
                <td>{{ leave.department }}</td>
                <td>{{ leave.status }}</td>
                <td>{{ leave.leave_type }}</td>
                <td>{{ leave.is_half_day }}</td>
                <td>{{ leave.leave_days }}</td>

                <td>
                    {% if leave.status != "Cancelled" %}
                    <a href="/student/cancel_leave/{{ leave.id }}" class="btn btn-red btn-sm">
                        Cancel
                    </a>
                    {% else %}
<a  class="btn btn-secondary btn-sm disabled">
                        Cancelled</a>
                    {% endif %}
                </td>

            </tr>

            {% endfor %}
            {% else %}
            <tr>
                <td colspan="10">No leave requests found.</td>
            </tr>
            {% endif %}
        </tbody>
    </table>


</body>

</html>